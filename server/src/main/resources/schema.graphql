type User {
  id: ID!
  name: String!
}

type Meme {
  id: ID!
  author: User!
  tags: [String!]
  url: String!
  createTime: String!
  counter: MemeCounter!
}

type MemeCounter {
  likeCount: Int!
  dislikeCount: Int!
  shareCount: Int!
  commentCount: Int!
}

# DEPRECATED: Should use tag and meme seperatedly.
type Topic {
  tag: String!
  memes: [Meme!]
}

type Query {
  # DEPRECATED: Should use `popular_tags` + `memes(tag)` instead.
  topics: [Topic!]
  
  # Gets the current user.
  currentUser: User
  
  # Gets popular tags.
  popularTags: [String!]
  
  # Gets memes of a tag.
  memesByTag(tag: String!): [Meme!]
  # Gets memes of a user.
  memesByAuthorId(userId: ID!): [Meme!]
}

scalar Upload
type Mutation {
  createMeme(file: Upload!, tags: [String!]): Meme
}
